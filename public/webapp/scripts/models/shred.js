define([
	'backbone'
],
function( Backbone ) {
    'use strict';

	/* Return a model class definition */
	return Backbone.Model.extend({
		urlRoot : 'api/shreds/',
		
		defaults: {
				"tabs" : {
				"tempo" : "125",
				"tabs" : [
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 4,
						"1" : 4,
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 10
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"3" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"4" : 4
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"5" : 5
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"3" : 0
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 4
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 4
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 4
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 4
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 4
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 4
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 4
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"4" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"4" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"4" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"4" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"4" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"4" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"4" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"4" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"4" : 2
					},
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 2
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : -1
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : -1
					},
					{
						"3" : -1
					},
					{
						"3" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 3
					}
					]
				},
				{
					"rest" : 8,
					"stringz" : [
					{
						"3" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"0" : 3
					},
					{
						"1" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 3
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"1" : 22
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 22
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : -1
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 2
					}
					]
				},
				{
					"rest" : 4,
					"stringz" : [
					{
						"2" : 2
					}
					]
				}
				]
			},
		},

		validate : function (attrs) {
			if ( !attrs.title || attrs.title.length === 0 ){
				return 'Title must be included';
			}
			if ( !attrs.description || attrs.description.length === 0 ){
				return 'Description must be included';
			}
		},

		rate : function(rateVal) {
			var url = this.url() + '/rate?rating=' + rateVal;
			var that = this;
			$.post(url)
			.done(function(res) {
				that.set({rating : res.rating});
			})
			.fail(function(err) {console.log('fail');});
		},
    });
});
